2024-05-13 13:35:48 [restartedMain] INFO  : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-05-13 13:35:48 [restartedMain] INFO  : Fetching config from server at : http://localhost:8888
2024-05-13 13:35:48 [restartedMain] INFO  : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available
2024-05-13 13:35:48 [restartedMain] WARN  : Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/'api'/default": Connection refused: no further information; nested exception is java.net.ConnectException: Connection refused: no further information
2024-05-13 13:35:48 [restartedMain] INFO  : No active profile set, falling back to default profiles: default
2024-05-13 13:35:49 [restartedMain] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-13 13:35:49 [restartedMain] INFO  : Finished Spring Data repository scanning in 140 ms. Found 2 JPA repository interfaces.
2024-05-13 13:35:49 [restartedMain] INFO  : BeanFactory id=72f450b6-d8b2-3a99-872f-a172ca00d3f1
2024-05-13 13:35:50 [restartedMain] INFO  : Tomcat initialized with port(s): 8080 (http)
2024-05-13 13:35:50 [restartedMain] INFO  : Initializing ProtocolHandler ["http-nio-8080"]
2024-05-13 13:35:50 [restartedMain] INFO  : Starting service [Tomcat]
2024-05-13 13:35:50 [restartedMain] INFO  : Starting Servlet engine: [Apache Tomcat/9.0.41]
2024-05-13 13:35:50 [restartedMain] INFO  : Initializing Spring embedded WebApplicationContext
2024-05-13 13:35:50 [restartedMain] INFO  : Root WebApplicationContext: initialization completed in 2039 ms
2024-05-13 13:35:50 [restartedMain] INFO  : HikariPool-1 - Starting...
2024-05-13 13:35:50 [restartedMain] INFO  : HikariPool-1 - Start completed.
2024-05-13 13:35:50 [restartedMain] INFO  : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-05-13 13:35:51 [restartedMain] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-13 13:35:51 [restartedMain] INFO  : HHH000412: Hibernate ORM core version 5.4.27.Final
2024-05-13 13:35:51 [restartedMain] INFO  : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-05-13 13:35:51 [restartedMain] INFO  : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-05-13 13:35:51 [restartedMain] INFO  : Envers integration enabled? : true
2024-05-13 13:35:52 [restartedMain] DEBUG : create table car (id bigint generated by default as identity, color varchar(255), license_plate varchar(255), model varchar(255), year integer not null, primary key (id))
2024-05-13 13:35:52 [restartedMain] DEBUG : create table user (id bigint generated by default as identity, birthday varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), login varchar(255), password varchar(255), phone varchar(255), primary key (id))
2024-05-13 13:35:52 [restartedMain] DEBUG : alter table car add constraint FKh1of97ngo0p2nw67im1av6npu foreign key (id) references user
2024-05-13 13:35:52 [restartedMain] INFO  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-13 13:35:52 [restartedMain] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:35:52 [restartedMain] INFO  : LiveReload server is running on port 35729
2024-05-13 13:35:52 [restartedMain] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-13 13:35:52 [restartedMain] INFO  : Exposing 2 endpoint(s) beneath base path '/actuator'
2024-05-13 13:35:53 [restartedMain] INFO  : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2024-05-13 13:35:53 [restartedMain] INFO  : Initializing ExecutorService 'applicationTaskExecutor'
2024-05-13 13:35:53 [restartedMain] INFO  : Starting ProtocolHandler ["http-nio-8080"]
2024-05-13 13:35:53 [restartedMain] INFO  : Tomcat started on port(s): 8080 (http) with context path ''
2024-05-13 13:35:53 [restartedMain] INFO  : Context refreshed
2024-05-13 13:35:53 [restartedMain] INFO  : Found 1 custom documentation plugin(s)
2024-05-13 13:35:53 [restartedMain] INFO  : Scanning for api listing references
2024-05-13 13:35:53 [restartedMain] INFO  : Started ApiApplication in 6.532 seconds (JVM running for 7.517)
2024-05-13 13:35:54 [RMI TCP Connection(5)-192.168.1.10] INFO  : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-05-13 13:35:54 [RMI TCP Connection(5)-192.168.1.10] INFO  : Initializing Servlet 'dispatcherServlet'
2024-05-13 13:35:54 [RMI TCP Connection(5)-192.168.1.10] INFO  : Completed initialization in 2 ms
2024-05-13 13:36:01 [Thread-7] INFO  : Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-13 13:36:01 [Thread-7] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:36:01 [Thread-7] WARN  : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2024-05-13 13:36:01 [Thread-7] INFO  : HikariPool-1 - Shutdown initiated...
2024-05-13 13:36:01 [Thread-7] INFO  : HikariPool-1 - Shutdown completed.
2024-05-13 13:36:01 [restartedMain] INFO  : Fetching config from server at : http://localhost:8888
2024-05-13 13:36:01 [restartedMain] INFO  : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available
2024-05-13 13:36:01 [restartedMain] WARN  : Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/'api'/default": Connection refused: no further information; nested exception is java.net.ConnectException: Connection refused: no further information
2024-05-13 13:36:01 [restartedMain] INFO  : No active profile set, falling back to default profiles: default
2024-05-13 13:36:02 [restartedMain] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-13 13:36:02 [restartedMain] INFO  : Finished Spring Data repository scanning in 0 ms. Found 0 JPA repository interfaces.
2024-05-13 13:36:02 [restartedMain] INFO  : BeanFactory id=49426ea1-e8be-3964-8c00-ad2390c17a4f
2024-05-13 13:36:02 [restartedMain] INFO  : Tomcat initialized with port(s): 8080 (http)
2024-05-13 13:36:02 [restartedMain] INFO  : Initializing ProtocolHandler ["http-nio-8080"]
2024-05-13 13:36:02 [restartedMain] INFO  : Starting service [Tomcat]
2024-05-13 13:36:02 [restartedMain] INFO  : Starting Servlet engine: [Apache Tomcat/9.0.41]
2024-05-13 13:36:02 [restartedMain] INFO  : Initializing Spring embedded WebApplicationContext
2024-05-13 13:36:02 [restartedMain] INFO  : Root WebApplicationContext: initialization completed in 924 ms
2024-05-13 13:36:02 [restartedMain] INFO  : HikariPool-2 - Starting...
2024-05-13 13:36:02 [restartedMain] INFO  : HikariPool-2 - Start completed.
2024-05-13 13:36:02 [restartedMain] INFO  : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-05-13 13:36:02 [restartedMain] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-13 13:36:02 [restartedMain] INFO  : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-05-13 13:36:02 [restartedMain] INFO  : Envers integration enabled? : true
2024-05-13 13:36:02 [restartedMain] INFO  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-13 13:36:02 [restartedMain] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:36:03 [restartedMain] INFO  : LiveReload server is running on port 35729
2024-05-13 13:36:03 [restartedMain] WARN  : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsBootstrapper' defined in URL [jar:file:/C:/Users/PatrickGa/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/C:/Users/PatrickGa/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'corsConfigurer' defined in br.com.api.ApiApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
2024-05-13 13:36:03 [restartedMain] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:36:03 [restartedMain] WARN  : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2024-05-13 13:36:03 [restartedMain] INFO  : HikariPool-2 - Shutdown initiated...
2024-05-13 13:36:03 [restartedMain] INFO  : HikariPool-2 - Shutdown completed.
2024-05-13 13:36:03 [restartedMain] INFO  : Stopping service [Tomcat]
2024-05-13 13:36:03 [restartedMain] INFO  : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2024-05-13 13:36:03 [restartedMain] ERROR : Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'documentationPluginsBootstrapper' defined in URL [jar:file:/C:/Users/PatrickGa/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/DocumentationPluginsBootstrapper.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/C:/Users/PatrickGa/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'corsConfigurer' defined in br.com.api.ApiApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:923)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at br.com.api.ApiApplication.main(ApiApplication.java:50)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file:/C:/Users/PatrickGa/.m2/repository/io/springfox/springfox-spring-web/2.9.2/springfox-spring-web-2.9.2.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'corsConfigurer' defined in br.com.api.ApiApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1206)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1598)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1451)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 25 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'corsConfigurer' defined in br.com.api.ApiApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:722)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:410)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1598)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1451)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 42 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'corsConfigurer' defined in br.com.api.ApiApplication: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1598)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1562)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1451)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1338)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:714)
	... 68 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.config.annotation.WebMvcConfigurer]: Factory method 'corsConfigurer' threw exception; nested exception is java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 84 common frames omitted
Caused by: java.lang.NoClassDefFoundError: br/com/api/ApiApplication$1
	at br.com.api.ApiApplication.corsConfigurer(ApiApplication.java:56)
	at br.com.api.ApiApplication$$EnhancerBySpringCGLIB$$d901cbd2.CGLIB$corsConfigurer$0(<generated>)
	at br.com.api.ApiApplication$$EnhancerBySpringCGLIB$$d901cbd2$$FastClassBySpringCGLIB$$568733a7.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at br.com.api.ApiApplication$$EnhancerBySpringCGLIB$$d901cbd2.corsConfigurer(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 85 common frames omitted
Caused by: java.lang.ClassNotFoundException: br.com.api.ApiApplication$1
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)
	... 96 common frames omitted
2024-05-13 13:36:05 [restartedMain] INFO  : Fetching config from server at : http://localhost:8888
2024-05-13 13:36:05 [restartedMain] INFO  : Connect Timeout Exception on Url - http://localhost:8888. Will be trying the next url if available
2024-05-13 13:36:05 [restartedMain] WARN  : Could not locate PropertySource: I/O error on GET request for "http://localhost:8888/'api'/default": Connection refused: no further information; nested exception is java.net.ConnectException: Connection refused: no further information
2024-05-13 13:36:05 [restartedMain] INFO  : No active profile set, falling back to default profiles: default
2024-05-13 13:36:06 [restartedMain] INFO  : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-13 13:36:06 [restartedMain] INFO  : Finished Spring Data repository scanning in 21 ms. Found 2 JPA repository interfaces.
2024-05-13 13:36:06 [restartedMain] INFO  : BeanFactory id=72f450b6-d8b2-3a99-872f-a172ca00d3f1
2024-05-13 13:36:06 [restartedMain] INFO  : Tomcat initialized with port(s): 8080 (http)
2024-05-13 13:36:06 [restartedMain] INFO  : Initializing ProtocolHandler ["http-nio-8080"]
2024-05-13 13:36:06 [restartedMain] INFO  : Starting service [Tomcat]
2024-05-13 13:36:06 [restartedMain] INFO  : Starting Servlet engine: [Apache Tomcat/9.0.41]
2024-05-13 13:36:06 [restartedMain] INFO  : Initializing Spring embedded WebApplicationContext
2024-05-13 13:36:06 [restartedMain] INFO  : Root WebApplicationContext: initialization completed in 1052 ms
2024-05-13 13:36:07 [restartedMain] INFO  : HikariPool-3 - Starting...
2024-05-13 13:36:07 [restartedMain] INFO  : HikariPool-3 - Start completed.
2024-05-13 13:36:07 [restartedMain] INFO  : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2024-05-13 13:36:07 [restartedMain] INFO  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-13 13:36:07 [restartedMain] INFO  : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-05-13 13:36:07 [restartedMain] INFO  : Envers integration enabled? : true
2024-05-13 13:36:07 [restartedMain] DEBUG : create table car (id bigint generated by default as identity, color varchar(255), license_plate varchar(255), model varchar(255), year integer not null, primary key (id))
2024-05-13 13:36:07 [restartedMain] DEBUG : create table user (id bigint generated by default as identity, birthday varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), login varchar(255), password varchar(255), phone varchar(255), primary key (id))
2024-05-13 13:36:07 [restartedMain] DEBUG : alter table car add constraint FKh1of97ngo0p2nw67im1av6npu foreign key (id) references user
2024-05-13 13:36:07 [restartedMain] INFO  : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-05-13 13:36:07 [restartedMain] INFO  : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:36:07 [restartedMain] INFO  : LiveReload server is running on port 35729
2024-05-13 13:36:07 [restartedMain] WARN  : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-13 13:36:07 [restartedMain] INFO  : Exposing 2 endpoint(s) beneath base path '/actuator'
2024-05-13 13:36:07 [restartedMain] INFO  : Mapped URL path [/v2/api-docs] onto method [springfox.documentation.swagger2.web.Swagger2Controller#getDocumentation(String, HttpServletRequest)]
2024-05-13 13:36:07 [restartedMain] INFO  : Initializing ExecutorService 'applicationTaskExecutor'
2024-05-13 13:36:08 [restartedMain] INFO  : Starting ProtocolHandler ["http-nio-8080"]
2024-05-13 13:36:08 [restartedMain] INFO  : Tomcat started on port(s): 8080 (http) with context path ''
2024-05-13 13:36:08 [restartedMain] INFO  : Context refreshed
2024-05-13 13:36:08 [restartedMain] INFO  : Found 1 custom documentation plugin(s)
2024-05-13 13:36:08 [restartedMain] INFO  : Scanning for api listing references
2024-05-13 13:36:08 [restartedMain] INFO  : Started ApiApplication in 2.632 seconds (JVM running for 21.851)
2024-05-13 13:36:08 [restartedMain] INFO  : Condition evaluation unchanged
2024-05-13 13:36:30 [SpringContextShutdownHook] INFO  : Shutting down ExecutorService 'applicationTaskExecutor'
2024-05-13 13:36:30 [SpringContextShutdownHook] INFO  : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-13 13:36:30 [HikariPool-3 connection adder] ERROR : HikariPool-3 - Error thrown while acquiring connection from data source
org.h2.jdbc.JdbcSQLNonTransientConnectionException: The database is open in exclusive mode; can not open additional connections [90135-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:622)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.engine.Session.checkSuspended(Session.java:1369)
	at org.h2.engine.Session.transitionToState(Session.java:1361)
	at org.h2.engine.Session.setCurrentCommand(Session.java:1343)
	at org.h2.engine.Session.startStatementWithinTransaction(Session.java:1853)
	at org.h2.command.Command.executeQuery(Command.java:190)
	at org.h2.jdbc.JdbcConnection.isReadOnly(JdbcConnection.java:631)
	at com.zaxxer.hikari.pool.PoolBase.setupConnection(PoolBase.java:402)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:363)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)
	at com.zaxxer.hikari.pool.HikariPool.access$100(HikariPool.java:71)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:725)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:711)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-05-13 13:36:30 [SpringContextShutdownHook] WARN  : Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2024-05-13 13:36:30 [SpringContextShutdownHook] INFO  : HikariPool-3 - Shutdown initiated...
2024-05-13 13:36:30 [SpringContextShutdownHook] INFO  : HikariPool-3 - Shutdown completed.
